(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{336:function(e,t,i){"use strict";function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}Object.defineProperty(t,"__esModule",{value:!0}),t.dialogInit=void 0,i(356);var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dialogNode=t,this.closeNode=this.dialogNode.querySelector(".close-dialog"),this.continueNode=this.dialogNode.querySelector(".continue"),this.triggerNodes=document.querySelectorAll("."+this.dialogNode.getAttribute("trigger-class")),this.inputNodes=Array.prototype.slice.call(t.querySelectorAll("select:not([disabled]), input:not([disabled]), textarea:not([disabled]), button:not([disabled]), a[href], area[href], iframe, object, embed, *[tabindex], *[contenteditable]")),this.lastFocusNode,this.windowScroll={x:0,y:0},this.isSpeedbump=!1,this.iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),this.dialogNode.classList.contains("speedbump-overlay")&&(this.isSpeedbump=!0),this.keysMap=Object.freeze({tab:9,escape:27});var i=!0,o=!1,s=void 0;try{for(var l,n=this.triggerNodes[Symbol.iterator]();!(i=(l=n.next()).done);i=!0){l.value.addEventListener("click",this.handleClick_triggerNodes.bind(this))}}catch(e){o=!0,s=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw s}}this.dialogNode.addEventListener("keydown",this.handleKeyDown.bind(this)),this.dialogNode.addEventListener("click",this.handleClick.bind(this))}return function(e,t,i){t&&o(e.prototype,t),i&&o(e,i)}(e,[{key:"handleClick_triggerNodes",value:function(e){if(e.preventDefault(),this.lastFocusNode=e.currentTarget,this.iOS?(this.windowScroll.x=window.pageXOffset,this.windowScroll.y=window.pageYOffset,document.querySelector("html").classList.add("dialog-no-scrolling-iOS"),document.querySelector("body").classList.add("dialog-no-scrolling-iOS"),document.querySelector("body").style.top="-"+this.windowScroll.y+"px"):(document.querySelector("html").classList.add("dialog-no-scrolling"),document.querySelector("body").classList.add("dialog-no-scrolling")),this.dialogNode.classList.remove("hidden"),this.isSpeedbump)if(this.continueNode)this.continueNode.href=e.currentTarget.href,this.continueNode.focus();else{var t=this.getVisibleInputs()[0];t&&t.focus()}else if(this.closeNode)this.closeNode.focus();else{var i=this.getVisibleInputs()[0];i&&i.focus()}}},{key:"closeDialog",value:function(){this.iOS?(document.querySelector("html").classList.remove("dialog-no-scrolling-iOS"),document.querySelector("body").classList.remove("dialog-no-scrolling-iOS"),document.querySelector("body").style.top="",window.scrollTo(this.windowScroll.y,this.windowScroll.y)):(document.querySelector("html").classList.remove("dialog-no-scrolling"),document.querySelector("body").classList.remove("dialog-no-scrolling")),this.dialogNode.classList.add("hidden"),this.lastFocusNode.focus()}},{key:"handleClick",value:function(e){switch(!0){case e.target===this.closeNode:case e.target===this.dialogNode:case this.isSpeedbump&&e.target===this.continueNode:case!this.isSpeedbump&&"a"===e.target.tagName.toLowerCase():this.closeDialog()}}},{key:"handleKeyDown",value:function(e){var t;e.keyCode||e.which;switch(!0){case e.keyCode===this.keysMap.escape:this.closeDialog();break;case e.keyCode===this.keysMap.tab&&e.shiftKey:if(t=this.getVisibleInputs(),e.target===t[0]){e.preventDefault(),t[t.length-1].focus();break}case e.keyCode===this.keysMap.tab&&!e.shiftKey:if(t=this.getVisibleInputs(),e.target===t[t.length-1]){e.preventDefault(),t[0].focus();break}}}},{key:"getVisibleInputs",value:function(){var e=[],t=!0,i=!1,o=void 0;try{for(var s,l=this.inputNodes[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var n=s.value;n.offsetHeight&&n.offsetWidth&&e.push(n)}}catch(e){i=!0,o=e}finally{try{t||null==l.return||l.return()}finally{if(i)throw o}}return e}}]),e}();t.dialogInit=function(){var e=document.querySelectorAll(".modal-overlay, .speedbump-overlay"),t=!0,i=!1,o=void 0;try{for(var l,n=e[Symbol.iterator]();!(t=(l=n.next()).done);t=!0){var a=l.value;new s(a)}}catch(e){i=!0,o=e}finally{try{t||null==n.return||n.return()}finally{if(i)throw o}}}},356:function(e,t,i){}}]);
//# sourceMappingURL=2.bundle.js.map